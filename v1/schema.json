{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://github.com/SENERGY-Platform/mgw-modfile-lib/v1/model/mod-file","$ref":"#/$defs/ModFile","$defs":{"BindMount":{"properties":{"MountPoint":{"type":"string"},"Source":{"type":"string"},"ReadOnly":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["MountPoint","Source","ReadOnly"]},"ConfigTarget":{"properties":{"RefVar":{"type":"string"},"Services":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["RefVar","Services"]},"ConfigValue":{"properties":{"Value":true,"Options":{"items":true,"type":"array"},"OptionsExt":{"type":"boolean"},"Type":{"type":"string"},"TypeOptions":{"type":"object"},"DataType":{"type":"string"},"IsList":{"type":"boolean"},"Delimiter":{"type":"string"},"UserInput":{"$ref":"#/$defs/UserInput"},"Targets":{"items":{"$ref":"#/$defs/ConfigTarget"},"type":"array"},"Optional":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["Value","Options","OptionsExt","Type","TypeOptions","DataType","IsList","Delimiter","UserInput","Targets","Optional"]},"DependencyTarget":{"properties":{"RefVar":{"type":"string"},"Services":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["RefVar","Services"]},"HostResource":{"properties":{"Tags":{"items":{"type":"string"},"type":"array"},"UserInput":{"$ref":"#/$defs/UserInput"},"Optional":{"type":"boolean"},"Targets":{"items":{"$ref":"#/$defs/HostResourceTarget"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Tags","UserInput","Optional","Targets"]},"HostResourceTarget":{"properties":{"MountPoint":{"type":"string"},"Services":{"items":{"type":"string"},"type":"array"},"ReadOnly":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["MountPoint","Services","ReadOnly"]},"HttpEndpoint":{"properties":{"Name":{"type":"string"},"Path":{"type":"string"},"Port":{"type":"integer"},"ExtPath":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Path","Port","ExtPath"]},"InputGroup":{"properties":{"Name":{"type":"string"},"Description":{"type":"string"},"Group":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Description","Group"]},"ModFile":{"properties":{"ID":{"type":"string"},"Name":{"type":"string"},"Description":{"type":"string"},"Tags":{"items":{"type":"string"},"type":"array"},"License":{"type":"string"},"Author":{"type":"string"},"Version":{"type":"string"},"Type":{"type":"string"},"DeploymentType":{"type":"string"},"Architectures":{"items":{"type":"string"},"type":"array"},"Services":{"patternProperties":{".*":{"$ref":"#/$defs/Service"}},"type":"object"},"ServiceReferences":{"patternProperties":{".*":{"items":{"$ref":"#/$defs/DependencyTarget"},"type":"array"}},"type":"object"},"Volumes":{"patternProperties":{".*":{"items":{"$ref":"#/$defs/VolumeTarget"},"type":"array"}},"type":"object"},"Dependencies":{"patternProperties":{".*":{"$ref":"#/$defs/ModuleDependency"}},"type":"object"},"HostResources":{"patternProperties":{".*":{"$ref":"#/$defs/HostResource"}},"type":"object"},"Secrets":{"patternProperties":{".*":{"$ref":"#/$defs/Secret"}},"type":"object"},"Configs":{"patternProperties":{".*":{"$ref":"#/$defs/ConfigValue"}},"type":"object"},"InputGroups":{"patternProperties":{".*":{"$ref":"#/$defs/InputGroup"}},"type":"object"}},"additionalProperties":false,"type":"object","required":["ID","Name","Description","Tags","License","Author","Version","Type","DeploymentType","Architectures","Services","ServiceReferences","Volumes","Dependencies","HostResources","Secrets","Configs","InputGroups"]},"ModuleDependency":{"properties":{"Version":{"type":"string"},"RequiredServices":{"patternProperties":{".*":{"items":{"$ref":"#/$defs/DependencyTarget"},"type":"array"}},"type":"object"}},"additionalProperties":false,"type":"object","required":["Version","RequiredServices"]},"ResourceMountTarget":{"properties":{"MountPoint":{"type":"string"},"Services":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["MountPoint","Services"]},"RunConfig":{"properties":{"MaxRetries":{"type":"integer"},"RunOnce":{"type":"boolean"},"StopTimeout":{"type":"integer"},"StopSignal":{"type":"string"},"PseudoTTY":{"type":"boolean"}},"additionalProperties":false,"type":"object","required":["MaxRetries","RunOnce","StopTimeout","StopSignal","PseudoTTY"]},"Secret":{"properties":{"Tags":{"items":{"type":"string"},"type":"array"},"UserInput":{"$ref":"#/$defs/UserInput"},"Optional":{"type":"boolean"},"Type":{"type":"string"},"Targets":{"items":{"$ref":"#/$defs/ResourceMountTarget"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Tags","UserInput","Optional","Type","Targets"]},"Service":{"properties":{"Name":{"type":"string"},"Image":{"type":"string"},"RunConfig":{"$ref":"#/$defs/RunConfig"},"Include":{"items":{"$ref":"#/$defs/BindMount"},"type":"array"},"Tmpfs":{"items":{"$ref":"#/$defs/TmpfsMount"},"type":"array"},"HttpEndpoints":{"items":{"$ref":"#/$defs/HttpEndpoint"},"type":"array"},"Ports":{"items":{"$ref":"#/$defs/SrvPort"},"type":"array"},"RequiredServices":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["Name","Image","RunConfig","Include","Tmpfs","HttpEndpoints","Ports","RequiredServices"]},"SrvPort":{"properties":{"Name":{"type":"string"},"Port":{"type":"string"},"HostPort":{"type":"string"},"Protocol":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Port","HostPort","Protocol"]},"TmpfsMount":{"properties":{"MountPoint":{"type":"string"},"Size":{"type":"integer"},"Mode":{"type":"integer"}},"additionalProperties":false,"type":"object","required":["MountPoint","Size","Mode"]},"UserInput":{"properties":{"Name":{"type":"string"},"Description":{"type":"string"},"Group":{"type":"string"}},"additionalProperties":false,"type":"object","required":["Name","Description","Group"]},"VolumeTarget":{"properties":{"MountPoint":{"type":"string"},"Services":{"items":{"type":"string"},"type":"array"}},"additionalProperties":false,"type":"object","required":["MountPoint","Services"]}}}